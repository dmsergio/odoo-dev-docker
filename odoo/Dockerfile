ARG ODOO_VERSION
FROM tecnativa/doodba:${ODOO_VERSION}-onbuild

ARG CONF_SERVER_WIDE_MODULES="web"
ENV CONF_SERVER_WIDE_MODULES="$CONF_SERVER_WIDE_MODULES"

# workers count: CORES * 2 + 1 (default: 0)
ARG CONF_WORKERS="2"
ENV CONF_WORKERS="$CONF_WORKERS"
# channels
# http://odoo-connector.com/guides/jobrunner.html
ARG CONF_CONNECTOR_CHANNELS="root:4"
ENV CONF_CONNECTOR_CHANNELS="$CONF_CONNECTOR_CHANNELS"

ARG CONF_LIMIT_TIME_CPU="600"
ENV CONF_LIMIT_TIME_CPU="$CONF_LIMIT_TIME_CPU"
ARG CONF_LIMIT_TIME_REAL="900"
ENV CONF_LIMIT_TIME_REAL="$CONF_LIMIT_TIME_REAL"
